<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">

<head>
    <title>WECAFC-FIRMS data viewer</title>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#0271BE" />
    <meta name="msapplication-navbutton-color" content="#0271BE" />
    
    <!-- CSS stylesheets -->
    <!-- =============== -->
    <link rel="stylesheet" type="text/css" href="js/vendor/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
    <link rel="stylesheet" type="text/css" href="js/vendor/select2/select2.css" />
    <link rel="stylesheet" type="text/css" href="css/main.css" />

    <!-- Javascripts deps -->
    <!-- ================ -->
    <!-- Jsonix -->
    <script type="text/javascript" src="js/vendor/jsonix/Jsonix-all.js"></script>
    <!-- W3C schemas -->
    <script type="text/javascript" src="js/vendor/w3c-schemas/XLink_1_0.js"></script>
    <!-- OGC schemas -->
    <script type="text/javascript" src="js/vendor/ogc-schemas/OWS_1_0_0.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/DC_1_1.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/DCT.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/CSW_2_0_2_Full.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/Filter_1_1_0.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/GML_3_1_1.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/GML_3_2_0.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/GML_3_2_1.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/SMIL_2_0_Language.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/SMIL_2_0.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GCO_20060504.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GMD_20060504.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GTS_20060504.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GSS_20060504.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GSR_20060504.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GMX_20060504.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_SRV_20060504.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GCO_20070417.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GMD_20070417.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GTS_20070417.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GSS_20070417.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GSR_20070417.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GMX_20070417.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_SRV_20060504.js"></script>
    <!-- OWS.js -->
    <script type="text/javascript" src="js/vendor/ows/ows.debug.js"></script>
    
    <!-- JQuery main & plugins -->
    <script type="application/javascript" src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <!--Bootstrap-->
    <script type="application/javascript" src="js/vendor/bootstrap/bootstrap.js"></script>
    <!-- JQuery UI -->
    <script type="application/javascript" src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <!--Jquery Select2-->
    <script type="application/javascript" src="js/vendor/select2/select2.js"></script>
    <!--OpenLayers 3-->
    <script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/ol3/3.18.2/ol-debug.js"></script>
    <script type="application/javascript" src="js/vendor/ol3/ol3-loadingpanel.js"></script>
    <script type="application/javascript" src="js/vendor/ol3/ol3-zoomtomaxextent.js"></script>
    <script type="application/javascript" src="js/vendor/ol3/ol3-layerswitcher.js"></script>
    <script type="application/javascript" src="js/vendor/ol3/ol3-popup.js"></script>
    <!-- List.js -->
    <script type="application/javascript" src="js/vendor/list/list.min.js"></script>
    <!-- Polyfills -->
    <script src="https://www.promisejs.org/polyfills/promise-7.0.4.min.js"></script>
    <!-- Statistics libraries -->
    <script type="application/javascript" src="js/vendor/stats/simple-statistics.js"></script>
    <script type="application/javascript" src="js/vendor/openfisviewer/openfisviewer.js"></script>
    <!-- TUna Atlas viewer -->
    <script type="application/javascript" src="js/main.js"></script>

</head>

<body>
    <!-- Browse Happy --><!--[if lte IE 9]><style type='text/css' scoped>* {display: none;} html, body, br {color: #000000; display: block !important; background-color: #FFFFFF; background-image: none;} a, strong {display: inline !important;} a {color: #0000FF !important;text-decoration: underline !important;} a:visited {color: #800080 !important;} a:active {color: #FF0000 !important;} .browsehappy {position: absolute;width: 100%;height: 100%;left: 0px;top: 0px;background-color: #ffffff;display: block !important;font-family: "Times New Roman";font-size: 25px;text-align: center;margin: 0px;padding: 0px;}</style><div class="browsehappy"><br /><br />You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->
    <!-- NoScript --><noscript><style type='text/css' scoped> html, body { overflow: hidden; } a, strong { display: inline !important; } a { color: #0000FF !important; text-decoration: underline !important; } a:visited { color: #800080 !important; } a:active { color: #FF0000 !important; } noscript, .noscript { display: block !important; position: absolute !important; z-index: 1000; width: 100%; height: 100%; left: 0px; top: 0px; background-color: #ffffff; color: #000; font-family: "Times New Roman"; font-size: 25px; text-align: center; margin: 0px; padding: 0px; } </style> <div class="noscript"> <br /> <br /> JavaScript is <strong>required</strong> to access this site. Please <a href="http://www.activatejavascript.org/">enable JavaScript</a> to access this site.</div></noscript>
   
    <div class="wrapper">
      <div class="col-sm-12 pages">
      
        <!-- Topbar menu -->
        <nav class="topbarContent">
            <ul>
                <li data-where="#pageMap" onclick="app.openAboutDialog()" title="About WECAFC-FIRMS Atlas">About</li>
                <li data-where="#pageMap" onclick="app.openDataDialog()" title="Browse data catalog">Browse</li>
                <li data-where="#pageMap" onclick="app.openQueryDialog()" title="Query data">Query</li>
            </ul>
        </nav>
      
        <!-- map -->
        <div class="page" id="pageMap">
            <div class="content">
				<!-- Map -->
                <div id="map"></div>
				
				<!-- Link panel -->
				<div id="linkPanel" class="sidePanel" onmouseover="app.setEmbedLink()">
					<h4>Link</h4>
					<blockquote>
						<div>
							<label for="openfisviewer-link">Paste the link in email or chat</label>
							<input id="openfisviewer-link" type="text" readonly="readonly" value="" onclick="this.focus();this.select();" /> 
						</div>
					<blockquote>
				</div>
				
				<!-- Selection panel -->
                <div id="selectionPanel" class="sidePanel">
					<h4><span class="glyphicon glyphicon-shopping-cart" style="margin-right:6px;"></span>Data selection</h4>
                    <div id="dataset-selection">
                        <blockquote>
                            <section class="col-xs-12 col-sm-12 col-md-12 list"></section>
                        </blockquote>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- other pages -->
      </div>
    </div>
    
    <!-- Dialog contents -->
    <div id="aboutDialog">
        <p>Welcome to the <b>WECAFC Fisheries data portal!</b></p>
        <p>The WECAFC-FIRMS data viewer allows exploring fisheries data of the Caribbean region. To start, click on 'Browse' to discover data in the WECAFC-FIRMS data catalogue and select one or more datasets. Then, click on 'Query' to perform a query on the selected dataset and display it on the map.</p>
        <p><em>This work has received funding from the European Union's Horizon 2020 research and innovation programme under the BlueBRIDGE project (Grant agreement No 675680).</em></p>
        <p class="partner-logos">
            <img src="img/partners/fao-wecafc.png" alt="FAO WECAFC" class="partner-logo" style="height: 80px;margin-right: 20px;"/>
            <img src="img/partners/bluebridge.png" alt="Bluebridge" class="partner-logo"/>
        </p>
    </div>
    <div id="dataDialog">
        <div id="dataset-form">
          <!-- Search form -->
          <section class="col-xs-12 col-sm-12 col-md-12 search" style="margin-bottom:5px;">
            <form id="dataset-form">
              <div class="form-group">
                <input type="text" class="form-control" id="dataset-search-text" aria-describedby="searchHelp" placeholder="Search a dataset">
              </div>
	      <span id="dataset-count" style="font-weight:bold;font-style:italic;"></span>
              <!--<div class="form-check" style="float:left;">
                <label class="form-check-label">
                  <input id ="dataset-search-bbox" type="checkbox" class="form-check-input">
                  Enable spatial query with map
                </label>
              </div>-->
              <input type="submit" class="btn btn-primary btn-sm" style="float:right;" value="Search"></input>
            </form>
          </section>
        </div>
        <div id="dataset-list">
          <!-- Search loader -->
          <p id="dataset-loader" class="loader">
            <img alt="loading" src="img/loading.gif" />
            <br /><br />Fetching datasets...
          </p>
          <!-- Search results -->
          <section class="col-xs-12 col-sm-12 col-md-12 list"></section>
          <div id="dataset-pages">
              <ul class="pagination"></ul>
          </div>
        </div>
    </div>
    <div id="queryDialog">
        <!-- Select a dataset -->
		<div class="row">
			<div class="col-md-12">
				<div class="selector-wrapper">
					<div id="datasetSelectorWrapper">
						<select id="datasetSelector" data-placeholder="Select a dataset">
							<option></option>
						</select>
					</div>
				</div>
			</div>
		</div>
        
        <!-- Dynamic query UI -->
        <div id="dsd-ui-wrapper">
          <!-- Search loader -->
          <p id="dsd-loader" class="loader">
            <img alt="loading" src="img/loading.gif" />
            <br /><br />Fetching data structure definition...
          </p>
          <!-- Dynamic query -->
          <div id="dsd-ui"></div>
        </div>
    </div>
    
    <!-- Templates -->
    <!-- ========= -->
    <!-- Dataset search template -->
    <div style="display:none;">
     <article id="dataset-item" class="search-result row">
       <div class="col-xs-3 col-sm-3 col-md-3 thumbnail-wrapper">
            <a href="#" class="thumbnail"><img class="graphic_overview" src="" data-mainSrc="" alt="" /></a>
	   </div>
       <div class="col-xs-9 col-sm-9 col-md-9 excerpet">
            <h6><a href="#" title="" class="title title_tooltip truncate"></a></h6>
            <button class="btn btn-xs dataset-button dataset-button-add pid"
		    data-pid="" title="Add to selection"
		    onclick="app.selectDataset(this)"><span class="glyphicon glyphicon-ok"></span></button>
        </div>
      </article>
    </div>
    
    <!-- Dataset selection template -->
    <div style="display:none;">
     <article id="dataset-item-selection" class="search-result row">
       <div class="col-xs-12 col-sm-12 col-md-12 excerpet">
            <h6><a href="#" title="" class="title title_tooltip truncate"></a></h6>
            <button class="btn btn-xs dataset-button dataset-button-remove pid"
		    data-pid="" title="Remove from selection"
		    onclick="app.unselectDataset(this)"><span class="glyphicon glyphicon-remove"></span></button>
        </div>
      </article>
    </div>
</body>

</html>
